{% extends "boardgamecafe/template.html" %}
{% load static %}
{% block title %}
    <title>New Booking</title>
{% endblock %}

{% block content %}
    <section class="w3-light-grey w3-center w3-container" style="padding:128px 128px 16px 128px">

        <h1>NEW BOOKING</h1>
        <p>Fill in the data regarding the new booking to be added</p>

        <div id="search_bar">
            <div class="w3-quarter">
                <span class="w3-tag-large w3-green w3-margin-left w3-margin-right" id="setp1_tag">STEP 1</span>
                <p id="setp1_text"> Schedule and players details </p>
            </div>
            <div class="w3-quarter">
                <span class="w3-tag-large w3-green w3-margin-left w3-margin-right" id="setp2_tag">STEP 2</span>
                <p id="setp2_text"> Choose the table </p>
            </div>
            <div class="w3-quarter">
                <span class="w3-tag-large w3-green w3-margin-left w3-margin-right" id="setp3_tag">STEP 3</span>
                <p id="setp3_text"> Choose the game </p>
            </div>
            <div class="w3-quarter">
                <span class="w3-tag-large w3-grey w3-margin-left w3-margin-right" id="setp4_tag">STEP 4</span>
                <p hidden id="setp4_text"> Validation and confirmation </p>
            </div>
        </div>
    </section>

    <section class="w3-light-grey w3-center" style="padding:16px 128px 128px 128px">
        <form class="form_crude" action="{% url 'boardgamecafe:newbooking3' %}" method="POST">
            {% csrf_token %}

{#            <div class="w3-third list-container">#}
{#                <button type="submit" name="chosen_game" id="chosen_game" value="kjsdgfv">#}
{#                    <img class="image-list" src="/boardgamecafe/static/media/boardgame_image_1.webp">#}
{#                </button>#}
{#                <h3 class="text-list"></h3>#}
{#            </div>#}


            <div class="form_crude_item">

                <div id="search_bar">
                    <div class="w3-quarter">
                        <label for="name" class="form_crude_label form_crude_item">NAME</label>
                        <input type="text" maxlength="50" class="form_crude_input form_crude_input--small" name="name" id="name" onkeyup="filterBoardGames(1)" placeholder="Enter name to search">
                    </div>
                    <div class="w3-quarter">
                        <input type="number" class="form_crude_input form_crude_input--small" name="players" id="players" min="1" max="99" value={{ num_players }} hidden>
                    </div>
                    <div class="w3-quarter">
                        <input type="number" class="form_crude_input form_crude_input--small" name="age" id="age" min="1" max="99" value={{ min_age }} hidden>
                    </div>
                    <div class="w3-quarter">
                        <input type="number" class="form_crude_input form_crude_input--small" name="time" id="time" min="1" max="99" value={{ time_available }} hidden>
                    </div>
                </div>

                <p id="no_games"> Currently, there are no available games. </p>
                <div class="w3-center" style="margin-top:64px" id="boardgames_grid">
                    <div class="w3-third list-container">
                        <button type="submit" name="chosen_game" id="chosen_game1">
                            <img class="image-list" src="">
                        </button>
                        <h3 class="text-list"></h3>
                    </div>
                    <div class="w3-third list-container">
                        <button type="submit" name="chosen_game" id="chosen_game2">
                            <img class="image-list" src="">
                        </button>
                        <h3 class="text-list"></h3>
                    </div>
                    <div class="w3-third list-container">
                        <button type="submit" name="chosen_game" id="chosen_game3">
                            <img class="image-list" src="">
                        </button>
                        <h3 class="text-list"></h3>
                    </div>
                    <div class="w3-third list-container">
                        <button type="submit" name="chosen_game" id="chosen_game4">
                            <img class="image-list" src="">
                        </button>
                        <h3 class="text-list"></h3>
                    </div>
                    <div class="w3-third list-container">
                        <button type="submit" name="chosen_game" id="chosen_game5">
                            <img class="image-list" src="">
                        </button>
                        <h3 class="text-list"></h3>
                    </div>
                    <div class="w3-third list-container">
                        <button type="submit" name="chosen_game" id="chosen_game6">
                            <img class="image-list" src="">
                        </button>
                        <h3 class="text-list"></h3>
                    </div>
                    <div class="w3-third list-container">
                        <button type="submit" name="chosen_game" id="chosen_game7">
                            <img class="image-list" src="">
                        </button>
                        <h3 class="text-list"></h3>
                    </div>
                    <div class="w3-third list-container">
                        <button type="submit" name="chosen_game" id="chosen_game8">
                            <img class="image-list" src="">
                        </button>
                        <h3 class="text-list"></h3>
                    </div>
                    <div class="w3-third list-container">
                        <button type="submit" name="chosen_game" id="chosen_game9">
                            <img class="image-list" src="">
                        </button>
                        <h3 class="text-list"></h3>
                    </div>
                </div>
                <br>
                <div id="page_index_buttons">
                    <a href="#boardgame_list" class="w3-white w3-button button-change-page" id="previous_page_button" onclick="filterBoardGames((page_index - 1))"> Previous Page </a>
                    <p id="page_index_text">1</p>
                    <a href="#boardgame_list" class="w3-white w3-button button-change-page" id="next_page_button" onclick="filterBoardGames((page_index + 1))"> Next Page </a>
                </div>


            </div>
            <div class="form_crude_item">
                <button class="form_crude_btn w3-button" type="submit"> Step 4 </button>
                <input class="form_crude_btn w3-button w3-red" type="button" value="Back" onclick="history.back()">
            </div>
        </form>
    </section>
{% endblock %}


{% block functions %}
    <script>
        is_form = true;
        var all_boardgames = '{{ boardgames | safe }}';
        $(document).ready(function(event) {
            filterBoardGames(1);
        });
    </script>
{% endblock %}